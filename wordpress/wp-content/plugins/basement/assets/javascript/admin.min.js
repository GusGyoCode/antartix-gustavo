!function(e,t,a){function n(){var e=this;s.on("load",function(){e.tabsWork(),e.colorPickerWork(),e.revSlider(),e.header(),e.pagetitle(),e.mutlitag(),e.sidebar(),e.footer(),e.widgetToggle(),e.navMenuLogic(),e.addGoogleFont(),e.helpPopup(),e.templateChoose(),e.exportSettings()}).on("resize",function(){}).on("scroll",function(){})}var s=e(t),i=e(a);n.prototype={exportSettings:function(){var t=e("#basement_export_header_params"),a={},n="";t.on("click",function(t){t.preventDefault(),e(this).closest(".basement-meta-box").next(".basement-meta-box").find("input").each(function(){var t=e(this).attr("name").replace("_basement_meta_header_","");switch(e(this).attr("type")){case"radio":e(this).is(":checked")&&(n=e(this).val()),a[t]=n;break;case"checkbox":break;default:n=e(this).val(),a[t]=n}})})},templateChoose:function(){function t(t,a){e.each(t,function(t,n){if(n instanceof Array){if(e('[name^="'+a+t+'"]:checked').removeAttr("checked"),n)for(var s=0;s<n.length;s++){var i=e('[name="'+a+t+"["+n[s]+']"][value="'+n[s]+'"]');i.size()>0&&"checkbox"===i.attr("type")&&i.prop("checked",!0)}}else{var o='[name="'+a+t+'"]',c=e(o);if(c.size()>0)switch(c.attr("type")){case"radio":e(o+'[value="'+n+'"]').prop("checked",!0);break;default:c.val(n).attr({value:n}).css("background-color","transparent").trigger("change")}}})}function a(t){e.each(t,function(t,a){var n="";switch(t){case"shortcode":n="revlider_content_meta";var s=e('[data-slideralias*="'+a+'"]');a&&(a='[rev_slider alias="'+a+'"][/rev_slider]'),s.size()>0?s.addClass("selected").siblings().removeClass("selected"):e("#basement-slider-list > li").removeClass("selected");break;case"alias":n="basement_rev_alias";break;case"rev_position":n="basement_rev_position";break;case"hide_content":n="_basement_meta_hide_content"}if(a instanceof Array){if(e('[name="'+n+'"]:checked').removeAttr("checked"),a)for(var i=0;i<a.length;i++){var o=e('[name="'+n+'"][value="'+a[i]+'"]');o.size()>0&&"checkbox"===o.attr("type")&&o.prop("checked",!0)}}else{var c='[name="'+n+'"]',r=e(c);if(r.size()>0)switch(r.attr("type")){case"radio":e(c+'[value="'+a+'"]').prop("checked",!0);break;default:r.val(a).attr({value:a}).css("background-color","transparent").trigger("change")}}})}function n(n){var s=n.val(),i=basement_template_params[s],o=e("#header_parameters_meta_box"),c=e("#pagetitle_parameters_meta_box"),r=e("#basement-revslider-meta-box"),l=e("#sidebar_meta_box"),d=e("#footer_meta_box"),m="_basement_meta_header_",v="_basement_meta_pagetitle_",g="_basement_meta_single_",h="_basement_meta_single_";if("default"===s)return o.find("#basement-custom-header:checked").trigger("click"),c.find("#basement-custom-pagetitle:checked").trigger("click"),l.find("#basement-custom-sidebar:checked").trigger("click"),void d.find("#basement-custom-footer:checked").trigger("click");if(i){var p=i.header,f=i.page_title,b=i.rev_slider,u=i.sidebar,_=i.footer;p&&o.size()>0&&(o.find("#basement-custom-header:not(:checked)").trigger("click"),t(p,m)),f&&c.size()>0&&(c.find("#basement-custom-pagetitle:not(:checked)").trigger("click"),t(f,v)),b&&r.size()>0&&a(b),u&&l.size()>0&&(l.find("#basement-custom-sidebar:not(:checked)").trigger("click"),t(u,g)),_&&d.size()>0&&(d.find("#basement-custom-footer:not(:checked)").trigger("click"),t(_,h))}}if("undefined"!=typeof basement_template_params){var s=e("#page_template");s.change(function(){n(e(this))})}},helpPopup:function(){function n(){t.open("http://docs.aisconverse.com/conicowp/icons/","Popup Name","width=1440, height=800, left=100, top=100, screenX=100, screenY=100")}e(a).on("click",".basement-help-popup",function(e){e.preventDefault();var t='<div class="popup-content">This is some amazing content!</div>';n(t)})},addGoogleFont:function(){var t=e("#basement_add_new_google_font"),n=e("#basement_new_google_font"),s=t.next(".spinner"),i=e("#basement_new_google_font_response");n.bind("input change paste keyup mouseup",function(){var e,t,a=n.val(),s=/<link href="(.*?)"/g,i=/url\('(.*?)'\)/g;if(a.trim()){for(;match=s.exec(a);)match[1]&&(e=match[1].indexOf("&"),t=match[1].substring(0,-1!=e?e:match[1].length),n.val(t));for(;match2=i.exec(a);)match2[1]&&(e=match2[1].indexOf("&"),t=match2[1].substring(0,-1!=e?e:match2[1].length),n.val(t))}}),e(a).on("mouseenter mouseleave","#basement_list_google_fonts label",function(t){var a=t.type,n=e(this),s='<span class="basement-remove-google-fonts">&times;</span>';n.find('input[type="checkbox"]').is(":checked")||"Poppins"===n.find('input[type="checkbox"]').val()||("mouseenter"==a?n.append(s):n.find(".basement-remove-google-fonts").remove())}),e(a).on("change",'#basement_list_google_fonts input[type="checkbox"]',function(){var t=e(this),a='<span class="basement-remove-google-fonts">&times;</span>';"Poppins"!==t.val()&&(this.checked?t.parent("label").find(".basement-remove-google-fonts").remove():t.parent("label").append(a))}),e(a).on("click",".basement-remove-google-fonts",function(){var t=e(this).parent("label"),n=t.find('input[type="checkbox"]');if(!n.is(":checked")&&"Poppins"!==n.val()){n.prop("checked",!1),n.removeAttr("checked");var s=n.val(),i={action:"remove_google_font",font:s};t.css({opacity:"0.5"}),e.post(ajaxurl,i,function(t){if(t){t=JSON.parse(t);var n=t.list,s=t.textarea,i=e(a).find("#basement_list_google_fonts"),o=e(a).find("#basement_framework_google_fonts");s&&o.attr("value",s).val(s),n&&i.parent(".basement_settings_panel_block_inputs").html(n)}})}}),t.on("click",function(o){o.preventDefault();var c=n.val();if(c.trim()){var r={action:"add_new_google_font",url:c};s.addClass("is-active"),t.prop("disabled",!0),n.prop("disabled",!0),i.html(""),e.post(ajaxurl,r,function(o){if(o){o=JSON.parse(o);var c=o.message,r=o.list,l=o.textarea,d=e(a).find("#basement_list_google_fonts"),m=e(a).find("#basement_framework_google_fonts");s.removeClass("is-active"),t.prop("disabled",!1),n.prop("disabled",!1).val(""),i.html(c),setTimeout(function(){i.html("")},4e3),l&&m.attr("value",l).val(l),r&&d.parent(".basement_settings_panel_block_inputs").html(r)}})}})},navMenuLogic:function(){var t=e(".menu-item-depth-0 .basement-megamenu-check");t.size()>0&&t.each(function(){var t=e(this);e(this).closest("li.menu-item").addClass(t.is(":checked")?"basement-item-active-megamenu":"basement-item-disable-megamenu")})},widgetToggle:function(){var t=".wtt";i.on("click",t,function(t){t.preventDefault();var a=e(this),n=a.next('input[type="checkbox"]'),s=n.next(".wtp");a.toggleClass("active"),s.toggleClass("active"),n.prop("checked",!n.prop("checked"))})},footer:function(){var t=e("#basement-custom-footer:checkbox"),a=e("#basement-custom-footer:checkbox:checked").not(":disabled").val();a&&e(a).addClass("active"),t.on("click",function(){e(e(this).val()).toggleClass("active")})},sidebar:function(){var t=e("#basement-custom-sidebar:checkbox"),a=e("#basement-custom-sidebar:checkbox:checked").not(":disabled").val();a&&e(a).addClass("active"),t.on("click",function(){e(e(this).val()).toggleClass("active")})},mutlitag:function(){e(a).on("click",".multitext",function(){var e,n;t.getSelection?(n=t.getSelection(),e=a.createRange(),e.selectNodeContents(this),n.removeAllRanges(),n.addRange(e)):a.body.createTextRange&&(e=a.body.createTextRange(),e.moveToElementText(this),e.select())})},pagetitle:function(){var t=e("#basement-custom-pagetitle:checkbox"),a=e("#basement-custom-pagetitle:checkbox:checked").not(":disabled").val();a&&e(a).addClass("active"),t.on("click",function(){e(e(this).val()).toggleClass("active")})},header:function(){var t=e("#basement-custom-header:checkbox"),a=e("#basement-custom-header:checkbox:checked").not(":disabled").val();a&&e(a).addClass("active"),t.on("click",function(){e(e(this).val()).toggleClass("active")})},revSlider:function(){var t=e("#basement-revslider-meta-box");t.size()>0&&t.each(function(){var t=e(this),a=t.find("#basement-slider-list"),n=a.children(".rs-slider-modify-li"),s=t.find("#basement-revslider"),i=t.find("#basement-alias");n.on("click",function(t){t.preventDefault();var a=e(this);a.toggleClass("selected").siblings().removeClass("selected"),a.hasClass("selected")?(s.val('[rev_slider alias="'+a.data("slideralias")+'"][/rev_slider]').trigger("change"),i.val(a.data("slideralias")).trigger("change")):(s.val("").trigger("change"),i.val("").trigger("change"))})})},tabsWork:function(){e(".basement_tabs_header a").on("click",function(t){t.preventDefault();var a=e(this),n=a.parent("li"),s=a.attr("href");n.addClass("active").siblings().removeClass("active"),e(s).addClass("active").siblings().removeClass("active")})},colorPickerWork:function(){e("#basement_shortcodes_panel_overlay").on("scroll",function(){e("#basement_color_picker_ID").size()>0&&(e(".basement_color_picker").blur(),e("#basement_color_picker_ID").remove())})}},new n}(jQuery,window,document);